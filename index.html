<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Third Eye Computer Class â€“ Student Resume Maker</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to bottom right, #eef2ff, #e0e7ff);
    color: #1f2937;
    margin: 0;
    padding: 20px;
  }
  header {
    text-align: center;
    background: #4338ca;
    color: white;
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 25px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }
  header h1 {
    margin: 0;
    font-size: 1.6rem;
  }
  header p {
    margin: 5px 0 0;
    font-weight: 500;
    font-size: 0.95rem;
  }
  .container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }
  form {
    flex: 1;
    min-width: 300px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  form h2 {
    text-align: center;
    color: #4338ca;
    margin-bottom: 15px;
  }
  label {
    display: block;
    margin-top: 10px;
    font-weight: 600;
    color: #4b5563;
  }
  input, textarea {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border: 1px solid #c7d2fe;
    border-radius: 8px;
    font-family: inherit;
  }
  textarea {
    resize: vertical;
  }
  .buttons {
    margin-top: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }
  button {
    background: #4338ca;
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    background: #3730a3;
  }
  #resume-output {
    flex: 1.3;
    min-width: 350px;
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }

  /* Resume Template Style */
  #resume {
    font-family: 'Poppins', sans-serif;
    color: #1f2937;
  }
  .resume-header {
    text-align: center;
    border-bottom: 3px solid #6366f1;
    padding-bottom: 10px;
    margin-bottom: 20px;
  }
  .resume-header h1 {
    margin: 0;
    font-size: 1.8rem;
    color: #4338ca;
  }
  .resume-header p {
    margin-top: 5px;
    font-size: 0.95rem;
    color: #4b5563;
  }
  .section-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #4338ca;
    border-bottom: 2px solid #a5b4fc;
    margin-top: 15px;
    margin-bottom: 8px;
    padding-bottom: 3px;
  }
  .section-content {
    font-size: 0.95rem;
    line-height: 1.5;
    color: #374151;
  }
</style>
</head>
<body>

<header>
  <h1>Rajesh it solutions â€“ Student Resume Maker</h1>
  <p>ðŸ“ž Contact: 8078618395</p>
</header>

<div class="container">
  <form id="resume-form">
    <h2>Enter Your Details</h2>
    <label for="name">Full Name</label>
    <input type="text" id="name" placeholder="John Doe">

    <label for="email">Email</label>
    <input type="email" id="email" placeholder="example@email.com">

    <label for="phone">Phone Number</label>
    <input type="text" id="phone" placeholder="9876543210">

    <label for="summary">Profile Summary</label>
    <textarea id="summary" rows="3" placeholder="Brief introduction about yourself..."></textarea>

    <label for="experience">Experience</label>
    <textarea id="experience" rows="3" placeholder="Work experience, internships, etc."></textarea>

    <label for="education">Education</label>
    <textarea id="education" rows="3" placeholder="Your qualifications..."></textarea>

    <label for="skills">Skills</label>
    <textarea id="skills" rows="2" placeholder="e.g. HTML, CSS, JavaScript"></textarea>

    <div class="buttons">
      <button type="button" id="download-pdf">Download PDF</button>
      <button type="button" id="download-html">Download HTML</button>
    </div>
  </form>

  <div id="resume-output">
    <p style="text-align:center; color:#9ca3af;">Your live resume preview will appear here.</p>
  </div>
</div>

<script>
const form = document.getElementById('resume-form');
const output = document.getElementById('resume-output');

function generateResume() {
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const summary = document.getElementById('summary').value.trim();
  const exp = document.getElementById('experience').value.trim();
  const edu = document.getElementById('education').value.trim();
  const skills = document.getElementById('skills').value.trim();

  output.innerHTML = `
    <div id="resume">
      <div class="resume-header">
        <h1>${name || ''}</h1>
        <p>${email || ''}${phone ? ' | ' + phone : ''}</p>
      </div>
      ${summary ? `<div><div class="section-title">Summary</div><div class="section-content">${summary}</div></div>` : ''}
      ${exp ? `<div><div class="section-title">Experience</div><div class="section-content">${exp.replace(/\n/g, '<br>')}</div></div>` : ''}
      ${edu ? `<div><div class="section-title">Education</div><div class="section-content">${edu.replace(/\n/g, '<br>')}</div></div>` : ''}
      ${skills ? `<div><div class="section-title">Skills</div><div class="section-content">${skills}</div></div>` : ''}
    </div>`;
}
form.addEventListener('input', generateResume);

// Download HTML
document.getElementById('download-html').addEventListener('click', () => {
  const resumeHTML = `
<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><title>My Resume</title>
<style>${document.querySelector('style').innerHTML}</style></head>
<body>${output.innerHTML}</body></html>`;
  const blob = new Blob([resumeHTML], { type: 'text/html' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = 'resume.html';
  link.click();
});

// Generate PDF blob
function generatePdfBlob() {
  return new Promise((resolve) => {
    const element = document.getElementById('resume');
    const opt = {
      margin: 0.25,
      image: { type: 'jpeg', quality: 1 },
      html2canvas: { scale: 2, useCORS: true, scrollY: 0 },
      jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' },
      pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
    };
    html2pdf().set(opt).from(element).toPdf().get('pdf').then((pdf) => {
      resolve(pdf.output('blob'));
    });
  });
}

// Download PDF
document.getElementById('download-pdf').addEventListener('click', async () => {
  const element = document.getElementById('resume');
  const opt = {
    margin: 0.25,
    filename: 'resume.pdf',
    image: { type: 'jpeg', quality: 1 },
    html2canvas: { scale: 2, useCORS: true, scrollY: 0 },
    jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' },
    pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
  };
  html2pdf().set(opt).from(element).save();
});

// âœ… GoFile.io Upload Logic (CORS-friendly and tested)
async function uploadToGofile(blob) {
  const formData = new FormData();
  formData.append('file', blob, 'resume.pdf');
  const res = await fetch('https://store1.gofile.io/uploadFile', { method: 'POST', body: formData });
  const data = await res.json();
  if (data.data && data.data.downloadPage) return data.data.downloadPage;
  throw new Error('Upload failed');
}

// âœ… Send Resume to Boss via WhatsApp
async function sendToBoss() {
  const bossNumber = "918078618395"; // WhatsApp format
  const name = document.getElementById('name').value.trim() || "Unnamed Student";
  const skills = document.getElementById('skills').value.trim() || "No skills listed";

  try {
    const blob = await generatePdfBlob();
    const link = await uploadToGofile(blob);
    const msg = `Hello Sir ðŸ‘‹,%0A%0AHere is a new student resume:%0AðŸ‘¤ *Name:* ${encodeURIComponent(name)}%0AðŸ§  *Skills:* ${encodeURIComponent(skills)}%0AðŸ“„ *Resume Link:* ${encodeURIComponent(link)}%0A%0Aâ€“ Third Eye Computer Class`;
    window.open(`https://wa.me/${bossNumber}?text=${msg}`, '_blank');
  } catch (err) {
    alert("Error: " + err.message);
  }
}

// âœ… Add Send Button
const sendBtn = document.createElement('button');
sendBtn.type = 'button';
sendBtn.textContent = 'Send Data to Boss';
sendBtn.style.background = '#10b981';
sendBtn.style.color = 'white';
sendBtn.style.border = 'none';
sendBtn.style.padding = '10px 18px';
sendBtn.style.borderRadius = '8px';
sendBtn.style.fontWeight = '600';
sendBtn.style.cursor = 'pointer';
sendBtn.onclick = sendToBoss;
document.querySelector('.buttons').appendChild(sendBtn);
</script>
</body>
</html>
